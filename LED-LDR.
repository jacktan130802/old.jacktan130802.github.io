import RPi.GPIO as GPIO
import time

GPIO.setmode(GPIO.BOARD)
LIGHT_PIN = 11
LDR_PIN = 7
ldr_threshold = 1000


def readLDR(LDR_PIN):
    reading = 0
    GPIO.setup(LIGHT_PIN, GPIO.OUT)
    GPIO.output(LIGHT_PIN, False)
    time.sleep(0.1)
    GPIO.setup(LDR_PIN, GPIO.IN)
    while (GPIO.input (LDR_PIN) ==False):
    
        reading=reading+1
        
    return reading

def switchOnLight(LIGHT_PIN):
    GPIO.setup(LIGHT_PIN, GPIO.OUT)
    GPIO.output(LIGHT_PIN, True)
    
def switchOffLight(LIGHT_PIN):
    GPIO.setup(LIGHT_PIN, GPIO.OUT)
    GPIO.output(LIGHT_PIN, False)
while True:
    ldr_reading = readLDR(LDR_PIN)
    if ldr_reading < ldr_threshold:
        switchOnLight (LIGHT_PIN)
    else:
        switchOffLight(LIGHT_PIN)
    time.sleep(1)
    print(ldr_reading)
